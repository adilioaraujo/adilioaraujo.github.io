<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Snakes</title>
    <link rel="icon" href="data:,">
    <style> body {position: relative;width: 100vw;height: 100vh;margin: 0;padding: 0;overflow: hidden;text-align: center;background-color: #0A0A0A;cursor: none;} canvas {border-radius: 16px;position: absolute;height: 90vh;top: 50%;left: 50%;transform: translate(-50%, -50%);background-color: #000000;box-shadow: 2px 0 4px 0 rgba(198, 82, 19, 0.2), -2px 0 4px 0 rgba(21, 101, 192, 0.2);}</style>
</head>
<body>
<script>
    function e(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function f(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:e(a)}}
    function g(){var a=this;this.c=960;this.b=540;this.j=this.b/250;this.T=2;this.U=5;this.S=100;this.R=10;this.A=document.createElement("canvas");this.A.setAttribute("width",this.c.toString());this.A.setAttribute("height",this.b.toString());this.a=this.A.getContext("2d");this.a.textAlign="center";this.o=document.createElement("canvas");this.o.setAttribute("width",this.c.toString());this.o.setAttribute("height",this.b.toString());this.f=this.o.getContext("2d");this.f.lineWidth=3*this.j;document.addEventListener("keydown",
        function(c){return a.key(c.key,!0)});document.addEventListener("keyup",function(c){return a.key(c.key,!1)});document.body.appendChild(this.A);this.B=60;document.onmousemove=function(){document.body.style.cursor="default";a.B=60};this.s=!1;this.reset=!0;this.F=0;var b=new URL(location.href);this.g=[{name:(b.searchParams.get("p1")||"Player 1").substring(0,16),color:"#1565C0",G:this.c/8,H:this.b/2,N:0,C:"Q",D:"W",v:this.c/8,L:this.c/8},{name:(b.searchParams.get("p2")||"Player 2").substring(0,16),color:"#c65213",
        G:this.c-this.c/8,H:this.b/2,N:180,C:"O",D:"P",v:this.c-this.c/8,L:this.c-this.c/8}];this.clear()}
    g.prototype.loop=function(){h.step();var a=h;a.a.clearRect(0,0,a.c,a.b);a.a.shadowBlur=0;if(a.s)for(var b=f(a.g),c=b.next();!c.done;c=b.next())c=c.value,a.a.fillStyle=c.color,0===c.u&&(a.f.beginPath(),a.f.arc(c.x,c.y,a.j,0,2*Math.PI,!1),a.f.fillStyle=c.color,a.f.fill()),a.a.drawImage(a.o,0,0),a.a.beginPath(),a.a.arc(c.l,c.m,1.5*a.j,0,2*Math.PI,!1),a.a.fill();else{if(a.reset)a.a.shadowColor="rgba(0, 255, 32, 1)",a.a.fillStyle="rgba(0, 255, 32, 0.7)",a.a.shadowBlur=24,a.a.font="bold 90px monospace",
        a.a.fillText("S N A K E S",a.c/2,a.b/2),a.a.shadowBlur=16,a.a.font="180px monospace",a.a.fillStyle="rgba(198, 82, 19, 0.1)",a.a.fillText("\ud83d\udc0d",a.c/2,a.b/1.8);else{a.a.shadowBlur=a.b;a.a.shadowColor="rgba(0, 255, 32, 0.2)";a.a.fillStyle="#2d2d2d";a.a.fillRect(a.c/4,a.b/5,a.c/2,a.b/2);a.a.shadowBlur=2;a.a.shadowColor="rgba(0, 255, 32, 1)";a.a.fillStyle="black";a.a.fillRect(a.c/4,a.b/5,a.c/2,a.b/2);a.a.shadowBlur=0;b=f(a.g);for(c=b.next();!c.done;c=b.next())c=c.value,c.w&&(c.w=!1,a.f.fillStyle=
        k(c.color,.2),a.f.strokeStyle=k(c.color,.1),a.f.beginPath(),a.f.arc(c.I,c.J,45*a.j,0,2*Math.PI,!1),a.f.fill(),a.f.stroke(),a.f.fillStyle=c.color,a.f.beginPath(),a.f.arc(c.I,c.J,3*a.j,0,2*Math.PI,!1),a.f.fill());a.a.drawImage(a.o,a.c/4,a.b/5,a.c/2,a.b/2)}a.a.shadowBlur=16;a.reset||(a.a.shadowColor="white",a.a.fillStyle="rgba(255, 255, 255, 0.9)",a.a.shadowBlur=24,a.a.font="26px monospace",a.a.fillText("SCORE",a.c/2,a.b/8));b=f(a.g);for(c=b.next();!c.done;c=b.next())c=c.value,a.a.fillStyle=c.color,
        a.a.shadowColor=c.color,a.a.font="26px monospace",a.a.fillText("\u2328",c.v,a.b-a.b/6.5),a.a.font="16px monospace",a.a.fillStyle=k(c.color,.4),a.a.fillText("["+c.C+"]["+c.D+"]",c.v,a.b-a.b/9.5),a.reset||(a.a.shadowColor="rgba(0, 255, 32, 1)",a.a.fillStyle="rgba(0, 255, 32, 7)",a.a.shadowBlur=24,a.a.font="80px monospace",a.a.fillText(c.K,c.L,a.b/2.2),a.a.font="16px monospace",a.a.fillText(c.name,c.v,a.b/1.9));a.a.shadowColor="white";a.a.fillStyle="rgba(255, 255, 255, 0.7)";a.reset?(a.a.font="26px monospace",
        a.a.fillStyle="rgba(255, 255, 255, 0.9)",a.a.fillText("START",a.c/2,a.b-a.b/6.5),a.a.font="16px monospace",a.a.fillStyle="rgba(255, 255, 255, 0.25)",a.a.fillText("[SPACE]",a.c/2,a.b-a.b/9.5)):(a.a.font="26px monospace",a.a.fillStyle="rgba(255, 255, 255, 0.9)",a.a.fillText("CANCEL",a.c/2.7,a.b-a.b/6.5),a.a.font="16px monospace",a.a.fillStyle="rgba(255, 255, 255, 0.25)",a.a.fillText("[ESC]",a.c/2.7,a.b-a.b/9.5),a.a.font="26px monospace",a.a.fillStyle="rgba(255, 255, 255, 0.9)",a.a.fillText("CONTINUE",
        a.c-a.c/2.7,a.b-a.b/6.5),a.a.font="16px monospace",a.a.fillStyle="rgba(255, 255, 255, 0.25)",a.a.fillText("[SPACE]",a.c-a.c/2.7,a.b-a.b/9.5))}0===h.B?document.body.style.cursor="none":h.B--;requestAnimationFrame(h.loop)};g.prototype.clear=function(){this.a.font="24px monospace";this.f.clearRect(0,0,this.c,this.b);for(var a=f(this.g),b=a.next();!b.done;b=a.next())b=b.value,b.u=0,b.x=b.G,b.y=b.H,b.l=b.G,b.m=b.H,b.angle=b.N,b.speed=this.T,b.h=0,b.i=0,b.M=this.U,b.O=!1,b.P=!1,this.reset&&(b.K=0,b.w=!1)};
    g.prototype.play=function(){this.clear();this.F=0;this.reset=!1;this.s=!0};g.prototype.stop=function(){this.s=!1};
    g.prototype.step=function(){if(this.s){for(var a=f(this.g),b=a.next();!b.done;b=a.next())if(b=b.value,0<b.speed){b.h=Math.cos(Math.PI/180*b.angle)*b.speed;b.i=Math.sin(Math.PI/180*b.angle)*b.speed;b.l=b.x+b.h*this.j;b.m=b.y+b.i*this.j;if(0<b.l&&b.l<this.c&&0<b.m&&b.m<this.b){var c=this.f.getImageData(b.l,b.m,1,1).data;if(0!==c[0]||0!==c[1]&&0!==c[2])b.speed=0,this.F++}if(0>b.x||b.x>this.c)b.h=-b.h,b.angle=180/Math.PI*Math.atan2(b.i,b.h);if(0>b.y||b.y>this.b)b.i=-b.i,b.angle=180/Math.PI*Math.atan2(b.i,
        b.h);b.O?b.angle-=b.M:b.P&&(b.angle+=b.M);b.x+=b.h;b.y+=b.i;0===b.u?0===Math.floor(Math.random()*this.S)&&(b.u=this.R):b.u--}if(this.F>=this.g.length-1)for(this.stop(),a=f(this.g),b=a.next();!b.done;b=a.next())b=b.value,0<b.speed?(b.K++,b.w=!1):(b.w=!0,b.I=b.l,b.J=b.m)}};g.prototype.key=function(a,b){a=a.toUpperCase();if(this.s)for(var c=f(this.g),d=c.next();!d.done;d=c.next())d=d.value,a===d.C?d.O=b:a===d.D&&(d.P=b);else"ESCAPE"!==a||b?" "!==a||b||this.play():(this.reset=!0,this.clear())};
    function k(a,b){if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(a)){var c=a.substring(1).split("");3===c.length&&(c=[c[0],c[0],c[1],c[1],c[2],c[2]]);c="0x"+c.join("");return"rgba("+[c>>16&255,c>>8&255,c&255].join()+", "+b+")"}return a}var h=new g;h.loop();
</script>
</body>
</html>