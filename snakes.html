<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Snakes</title>
</head>
<body>
<script>
    function f(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function g(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:f(a)}}var h="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},k="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;
    function l(a,b){if(b){var c=k;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&h(c,a,{configurable:!0,writable:!0,value:b})}}l("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}});
    function m(){var a=this;this.a=540;this.f=this.a/250;this.style(document.body,"\n            position: relative;\n            width: 100vw;\n            height: 100vh;\n            margin: 0;\n            padding: 0;\n            overflow: hidden;\n            text-align: center;\n            background-color: #0A0A0A;\n        ");this.h=document.createElement("canvas");this.h.setAttribute("width",(960).toString());this.h.setAttribute("height",this.a.toString());this.style(this.h,"\n            border-radius: 16px;\n            position: absolute;\n            height: 90vh;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            background-color: #000000;\n            box-shadow: 2px 0 4px 0 rgba(198, 82, 19, 0.2), -2px 0 4px 0 rgba(21, 101, 192, 0.2);\n        ");
        this.s=this.h.getContext("2d");this.s.textAlign="center";this.g=document.createElement("canvas");this.g.setAttribute("width",(960).toString());this.g.setAttribute("height",this.a.toString());this.j=this.g.getContext("2d");this.j.lineWidth=3*this.f;document.addEventListener("keydown",function(c){return a.key(c.key,!0)});document.addEventListener("keyup",function(c){return a.key(c.key,!1)});document.body.appendChild(this.h);this.i=!1;this.c=!0;this.o=0;var b=new URL(location.href);this.b=[{name:(b.searchParams.get("p1")||
                "Player 1").substring(0,16),color:"#1565C0",G:120,H:this.a/2,N:0,D:"Q",F:"W",A:120,L:120},{name:(b.searchParams.get("p2")||"Player 2").substring(0,16),color:"#c65213",G:840,H:this.a/2,N:180,D:"O",F:"P",A:840,L:840}];n(this);(new p(this.C.bind(this))).start()}function n(a){a.s.font="24px monospace";a.j.clearRect(0,0,960,a.a);for(var b=g(a.b),c=b.next();!c.done;c=b.next())c=c.value,c.w=0,c.x=c.G,c.y=c.H,c.u=c.G,c.v=c.H,c.angle=c.N,c.speed=2,c.l=0,c.m=0,c.M=5,c.O=!1,c.P=!1,a.c&&(c.K=0,c.B=!1)}
    m.prototype.C=function(){if(this.i){for(var a=g(this.b),b=a.next();!b.done;b=a.next())if(b=b.value,0<b.speed){b.l=Math.cos(Math.PI/180*b.angle)*b.speed;b.m=Math.sin(Math.PI/180*b.angle)*b.speed;b.u=b.x+b.l*this.f;b.v=b.y+b.m*this.f;if(0<b.u&&960>b.u&&0<b.v&&b.v<this.a){var c=this.j.getImageData(b.u,b.v,1,1).data;if(0!==c[0]||0!==c[1]&&0!==c[2])b.speed=0,this.o++}if(0>b.x||960<b.x)b.l=-b.l,b.angle=180/Math.PI*Math.atan2(b.m,b.l);if(0>b.y||b.y>this.a)b.m=-b.m,b.angle=180/Math.PI*Math.atan2(b.m,b.l);
        b.O?b.angle-=b.M:b.P&&(b.angle+=b.M);b.x+=b.l;b.y+=b.m;0===b.w?0===Math.floor(100*Math.random())&&(b.w=10):b.w--}if(this.o>=this.b.length-1)for(this.i=!1,a=g(this.b),b=a.next();!b.done;b=a.next())b=b.value,0<b.speed?(b.K++,b.B=!1):(b.B=!0,b.I=b.u,b.J=b.v)}a=this.s;b=this.j;a.clearRect(0,0,960,this.a);a.shadowBlur=0;if(this.i){var d=g(this.b);for(c=d.next();!c.done;c=d.next())c=c.value,0===c.w&&(b.fillStyle=c.color,b.beginPath(),b.arc(c.x,c.y,this.f,0,2*Math.PI,!1),b.fillStyle=c.color,b.fill()),a.drawImage(this.g,
        0,0),a.fillStyle=c.color,a.beginPath(),a.arc(c.u,c.v,1.5*this.f,0,2*Math.PI,!1),a.fill()}else{if(this.c)a.shadowColor="rgba(0, 255, 32, 1)",a.fillStyle="rgba(0, 255, 32, 0.7)",a.shadowBlur=24,a.font="bold 90px monospace",a.fillText("S N A K E S",480,this.a/2),a.shadowBlur=16,a.font="180px monospace",a.fillStyle="rgba(198, 82, 19, 0.1)",a.fillText("\ud83d\udc0d",480,this.a/1.8);else{a.shadowBlur=this.a;a.shadowColor="rgba(0, 255, 32, 0.2)";a.fillStyle="#2d2d2d";a.fillRect(240,this.a/5,480,this.a/2);
        a.shadowBlur=2;a.shadowColor="rgba(0, 255, 32, 1)";a.fillStyle="black";a.fillRect(240,this.a/5,480,this.a/2);a.shadowBlur=0;d=g(this.b);for(c=d.next();!c.done;c=d.next())c=c.value,c.B&&(c.B=!1,b.fillStyle=q(c.color,.2),b.strokeStyle=q(c.color,.1),b.beginPath(),b.arc(c.I,c.J,45*this.f,0,2*Math.PI,!1),b.fill(),b.stroke(),b.fillStyle=c.color,b.beginPath(),b.arc(c.I,c.J,3*this.f,0,2*Math.PI,!1),b.fill());a.drawImage(this.g,240,this.a/5,480,this.a/2)}a.shadowBlur=16;this.c||(a.shadowColor="white",a.fillStyle=
        "rgba(255, 255, 255, 0.9)",a.shadowBlur=24,a.font="26px monospace",a.fillText("SCORE",480,this.a/8));b=g(this.b);for(c=b.next();!c.done;c=b.next())c=c.value,a.fillStyle=c.color,a.shadowColor=c.color,a.font="26px monospace",a.fillText("\u2328",c.A,this.a-this.a/6.5),a.font="16px monospace",a.fillStyle=q(c.color,.4),a.fillText("["+c.D+"]["+c.F+"]",c.A,this.a-this.a/9.5),this.c||(a.shadowColor="rgba(0, 255, 32, 1)",a.fillStyle="rgba(0, 255, 32, 7)",a.shadowBlur=24,a.font="80px monospace",a.fillText(c.K,
        c.L,this.a/2.2),a.font="16px monospace",a.fillText(c.name,c.A,this.a/1.9));a.shadowColor="white";a.fillStyle="rgba(255, 255, 255, 0.7)";this.c?(a.font="26px monospace",a.fillStyle="rgba(255, 255, 255, 0.9)",a.fillText("START",480,this.a-this.a/6.5),a.font="16px monospace",a.fillStyle="rgba(255, 255, 255, 0.25)",a.fillText("[SPACE]",480,this.a-this.a/9.5)):(a.font="26px monospace",a.fillStyle="rgba(255, 255, 255, 0.9)",a.fillText("CANCEL",960/2.7,this.a-this.a/6.5),a.font="16px monospace",a.fillStyle=
        "rgba(255, 255, 255, 0.25)",a.fillText("[ESC]",960/2.7,this.a-this.a/9.5),a.font="26px monospace",a.fillStyle="rgba(255, 255, 255, 0.9)",a.fillText("CONTINUE",960-960/2.7,this.a-this.a/6.5),a.font="16px monospace",a.fillStyle="rgba(255, 255, 255, 0.25)",a.fillText("[SPACE]",960-960/2.7,this.a-this.a/9.5))}};
    m.prototype.key=function(a,b){a=a.toUpperCase();if(this.i)for(var c=g(this.b),d=c.next();!d.done;d=c.next())d=d.value,a===d.D?d.O=b:a===d.F&&(d.P=b);else"ESCAPE"!==a||b?" "!==a||b||(n(this),this.o=0,this.c=!1,this.i=!0):(this.c=!0,n(this))};function q(a,b){return/^#([A-Fa-f0-9]{3}){1,2}$/.test(a)?(a=a.substring(1).split(""),3===a.length&&(a=[a[0],a[0],a[1],a[1],a[2],a[2]]),a="0x"+a.join(""),"rgba("+[a>>16&255,a>>8&255,a&255].join()+", "+b+")"):a}
    m.prototype.style=function(a,b){a.setAttribute("style",b.replace("/\\r?\\n|\\r/g","").replace(/\s+/g," ").trim())};function p(a){this.o=a;this.C=!1;this.g=0;this.h=60;this.R=1E3/this.h;this.a=0;this.j=1E3/60;this.s=this.i=this.c=this.f=0;this.b=this.b.bind(this)}p.prototype.start=function(){var a=this;!this.C&&this.o&&(this.C=!0,this.g=requestAnimationFrame(function(b){a.f=b;a.i=b;a.c=0;a.g=requestAnimationFrame(a.b)}))};
    p.prototype.b=function(a){if(!(a<this.f+this.R))for(this.a+=a-this.f,this.f=a,a>this.i+1E3&&(this.h=.25*this.c+.75*this.h,this.i=a,this.c=0),this.c++,this.s=0;this.a>=this.j;)if(this.o(this.j),this.a-=this.j,240<=++this.s){this.a=0;break}this.g=requestAnimationFrame(this.b)};new m;

</script>
</body>
</html>